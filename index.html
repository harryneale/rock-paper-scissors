<!DOCTYPE html>

<html>
    <head>
        <title>Rock-Paper-Scissors</title>
    </head>

    <script>

        let pScore = 0;
        let cScore = 0;
        let rounds = 1;

        
        // Generates random computer choice //
        function computerPlay() {
            computerChoice = Math.random();
            if (computerChoice < 0.34) {
                computerChoice = "rock";}
            else if (computerChoice <= 0.67) {
                computerChoice = "paper"}
            else {
                computerChoice = "scissors"
            }
        }

        // Works out winner of round //
        let oneRound = function(playerChoice, computerChoice) {
            // Draw //
            if (playerChoice===computerChoice) {
                rounds++
                return "Draw";
            }

            // If player picks rock //
            if (playerChoice == "rock") {
                if (computerChoice == "paper") {
                    rounds++
                    cScore++
                    return "Computer wins"; }
                else {
                    rounds++
                    pScore++
                    return "Player wins";
                }
            }

            // If player picks paper //
            if (playerChoice == "paper"){
                if (computerChoice == "scissors") {
                    rounds++
                    cScore++
                    return "Computer wins"; }
                else {
                    rounds++
                    pScore++
                    return "Player wins";
                }
            }

            // If player picks scissors //
            if (playerChoice == "scissors"){
                if (computerChoice == "rock") {
                    rounds++
                    cScore++
                    return "Computer wins"; }
                else {
                    rounds++
                    pScore++
                    return "Player wins";
                }
            }
        }
        
       function pg() {
        for (let i=0; i<5; i++) {
        let playerChoice = prompt("Make your selection: ");
        let computerSelection = computerPlay();
            console.log("Round " + rounds + ": " + oneRound(playerChoice, computerChoice));
       }
       if (pScore > cScore) {
           return "Final score: " + pScore + " vs " + cScore+"\n" + 
           "Congratulations, you beat the computer!";
       }
       else if (cScore > pScore) {
           return "Final score: " + pScore + " vs " + cScore+"\n" + "Bad luck, the computer beat you";
       }
       else {
           return "Meh, draw";
       }
       }
        


    </script>

    <body>
        <p>To play the game, open the console (F12), type <strong>pg()</strong> and press enter.</p>
    </body>


</html>